\section{Schema Management}

The SDM is described in \secref{sec:sdm}. Here we discuss control of the schema.
How do we manage changes in a controlled manner which do not break our systems?
Can we do that and still remain flexible enough for a large organisation to develop with relative ease?

The DPDD is a project-level change-controlled document it shall remain subject to the RFC and DM CCB pr procedures for modifying it.

The ``specification'' schema in LDM-153 should be updated whenever necessary to reflect any changes
in DM's planned data products at the end of construction. Evolution of the LDM-153 schema is
expected during construction as the pipelines evolve and the measurement outputs are better
understood.

LDM-153 is change-controlled by the DM-CCB, and its contents are generated from the baselineSchema.yaml file
in the \texttt{sdm\_schemas} repository. Procedurally, \texttt{baselineSchema.yaml} should be
treated like any other LaTeX input for a change controlled document: changes to it may be merged to
master via a normal ticket, but are not ``official'' until an approved RFC releases a new version of
the LDM document.  This allows some flexibility in development while maintaining control of the official version.

The \texttt{hsc.yaml} schema in \texttt{sdm\_schemas} is a ``concrete'' schema that is not subject
to change control, but the \texttt{ci\_hsc} integration tests verify that the outputs from that
pipeline execution comply with the schema specified in \texttt{hsc.yaml}. This ensures that an
up-to-date schema is always available, so that steps like loading an HSC reprocessing run into qserv
do not require fixing up all the changes to the schema since the previous ingest.

All other schemas in the \texttt{sdm\_schemas} repository are ``concrete'' schemas reflecting
specific sets of data products; these may be edited as necessary by a normal ticket workflow.

\textbf{TODO:} we only have one hsc.yaml, should we be creating more reprocessing-specific copies?
I.e. one for each RC2 reprocessing and saving them in separate files in sdm\_schemas.

